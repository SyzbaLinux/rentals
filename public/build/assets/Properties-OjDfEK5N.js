import{A as v}from"./AppLayout-rmBtqdEI.js";import{_ as k}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as h,a as C}from"./VMain-D-23GY-i.js";import{V as T}from"./VSpacer-DwiIW7fx.js";import{V as a}from"./VBtn-CajXhIOF.js";import{V as A,a as w,b as x,c as D}from"./VCard-C66p_jg3.js";import{V as d,a as m}from"./VRow-HYDSJ8CX.js";import{V as u}from"./VTextField-BIvn1JiS.js";import{V as P}from"./VTextarea-DNChDKEm.js";import{b as q,V as B,c,a as I}from"./VDialog-DSZ3NGfB.js";import{V as U}from"./VSwitch-CbylmFZQ.js";import{V as N}from"./VAvatar-CkwCmLTX.js";import{k as V,o as p,c as f,w as r,a as _,b as e,i as t,t as S}from"./app-Cm5KmEqX.js";import"./easing-DY7PVvcf.js";import"./forwardRefs-C-GTDzx5.js";import"./form-BjvNdLud.js";import"./VCheckboxBtn-C83lXEbQ.js";const L={components:{AppLayout:v},data(){return{form:this.$inertia.form({id:null,title:"",description:"",address:"",number_of_rooms:0,is_available:!0,type:"commercial"}),headers:[{title:"ID",key:"id"},{title:"Title",key:"title"},{title:"Is Available",key:"is_available"},{title:"Description",key:"description"},{title:"Actions",key:"actions",sortable:!1}],dialog:!1,rules:{required:o=>!!o||"This field is required.",integer:o=>Number.isInteger(Number(o))||"Must be an integer."}}},methods:{submitForm(){this.form.post(route("admin.properties.store"),{onSuccess:()=>{this.closeDialog()}})},closeDialog(){this.dialog=!1,this.form.reset()},editProperty(o){this.form.id=o.id,this.form.title=o.title,this.form.description=o.description,this.form.address=o.address,this.form.number_of_rooms=o.number_of_rooms,this.form.is_available=o.is_available,this.form.type=o.type,this.dialog=!0},deleteProperty(o){this.$swal.fire({title:"Are you sure you want to delete this property?",icon:"question",showDenyButton:!0,confirmButtonText:"Delete",denyButtonText:"Cancel"}).then(i=>{i.isConfirmed&&this.$inertia.visit(route("admin.properties.destroy",o),{method:"delete"})})}}},F={class:"glass pa-3"},z={class:"d-flex"};function R(o,i,E,M,l,n){const b=V("InertiaLink"),g=V("AppLayout");return p(),f(g,{title:"All Properties"},{default:r(()=>[_("div",F,[e(C,{class:"rounded-lg px-2 mb-5",density:"comfortable"},{default:r(()=>[e(h,null,{default:r(()=>[t(" All Properties ("+S(o.$page.props.properties.length)+") ",1)]),_:1}),e(T),e(a,{onClick:i[0]||(i[0]=s=>l.dialog=!0),variant:"flat"},{default:r(()=>[t(" Add Property ")]),_:1})]),_:1}),e(B,{"max-width":"600",modelValue:l.dialog,"onUpdate:modelValue":i[7]||(i[7]=s=>l.dialog=s)},{default:r(()=>[e(A,{variant:"flat"},{default:r(()=>[e(w,{class:"mb-5"},{default:r(()=>[t("Property Information Form")]),_:1}),e(x,null,{default:r(()=>[e(d,null,{default:r(()=>[e(m,{cols:"12",md:"12"},{default:r(()=>[e(u,{modelValue:l.form.title,"onUpdate:modelValue":i[1]||(i[1]=s=>l.form.title=s),label:"Title","prepend-inner-icon":"mdi-book",rules:[l.rules.required],"error-messages":o.$page.props.errors.title},null,8,["modelValue","rules","error-messages"])]),_:1})]),_:1}),e(d,null,{default:r(()=>[e(m,{cols:"12"},{default:r(()=>[e(P,{rows:"3",modelValue:l.form.description,"onUpdate:modelValue":i[2]||(i[2]=s=>l.form.description=s),label:"Description","prepend-inner-icon":"mdi-text","error-messages":o.$page.props.errors.description},null,8,["modelValue","error-messages"])]),_:1})]),_:1}),e(d,null,{default:r(()=>[e(m,{cols:"12"},{default:r(()=>[e(u,{modelValue:l.form.address,"onUpdate:modelValue":i[3]||(i[3]=s=>l.form.address=s),label:"Address","prepend-inner-icon":"mdi-map-marker",rules:[l.rules.required],"error-messages":o.$page.props.errors.address},null,8,["modelValue","rules","error-messages"])]),_:1})]),_:1}),e(d,null,{default:r(()=>[e(m,{cols:"12",md:"4"},{default:r(()=>[e(u,{modelValue:l.form.number_of_rooms,"onUpdate:modelValue":i[4]||(i[4]=s=>l.form.number_of_rooms=s),label:"Number of Rooms","prepend-inner-icon":"mdi-door",rules:[l.rules.required,l.rules.integer],"error-messages":o.$page.props.errors.number_of_rooms},null,8,["modelValue","rules","error-messages"])]),_:1}),e(m,{cols:"12",md:"4"},{default:r(()=>[e(q,{modelValue:l.form.type,"onUpdate:modelValue":i[5]||(i[5]=s=>l.form.type=s),items:["commercial","residential"],label:"Type","prepend-inner-icon":"mdi-home",rules:[l.rules.required],"error-messages":o.$page.props.errors.type},null,8,["modelValue","rules","error-messages"])]),_:1}),e(m,{cols:"12",md:"4"},{default:r(()=>[e(U,{modelValue:l.form.is_available,"onUpdate:modelValue":i[6]||(i[6]=s=>l.form.is_available=s),label:"Available","true-value":1,"false-value":0,inset:"",color:"primary"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(D,{class:"mt-n5"},{default:r(()=>[e(a,{class:"mx-1",variant:"flat",color:"warning",onClick:n.closeDialog},{default:r(()=>[t("Cancel")]),_:1},8,["onClick"]),e(a,{variant:"flat",class:"mx-1",color:"primary",onClick:n.submitForm,loading:l.form.processing},{default:r(()=>[t(" Submit ")]),_:1},8,["onClick","loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(I,{items:o.$page.props.properties,headers:l.headers},{"item.is_available":r(({item:s})=>[s.is_available?(p(),f(c,{key:0,color:"success",variant:"flat",size:"small"},{default:r(()=>[t(" Available ")]),_:1})):(p(),f(c,{key:1,color:"error",variant:"flat",size:"small"},{default:r(()=>[t(" Taken ")]),_:1}))]),"item.actions":r(({item:s})=>[_("div",z,[e(b,{href:o.route("admin.properties.show",s)},{default:r(()=>[e(a,{class:"mx-1",color:"success"},{default:r(()=>[t("View")]),_:1})]),_:2},1032,["href"]),e(a,{class:"mx-1",onClick:y=>n.editProperty(s)},{default:r(()=>[t("Edit")]),_:2},1032,["onClick"]),e(a,{color:"error",class:"mx-1",onClick:y=>n.deleteProperty(s)},{default:r(()=>[e(N,null,{default:r(()=>[t("mdi-trash-can")]),_:1})]),_:2},1032,["onClick"])])]),_:1},8,["items","headers"])])]),_:1})}const ie=k(L,[["render",R]]);export{ie as default};
