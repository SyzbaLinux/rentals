import{A as b}from"./AppLayout-rmBtqdEI.js";import{_ as h}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as C,a as k}from"./VMain-D-23GY-i.js";import{V as w}from"./VSpacer-DwiIW7fx.js";import{V as a}from"./VBtn-CajXhIOF.js";import{V as D,a as A,b as P,c as T}from"./VCard-C66p_jg3.js";import{V as d,a as n}from"./VRow-HYDSJ8CX.js";import{V as i}from"./VTextField-BIvn1JiS.js";import{b as p,V as v,a as U}from"./VDialog-DSZ3NGfB.js";import{V as f}from"./VTextarea-DNChDKEm.js";import{V as q}from"./VAvatar-CkwCmLTX.js";import{k as c,o as I,c as B,w as o,a as _,b as e,i as m,t as L}from"./app-Cm5KmEqX.js";import"./easing-DY7PVvcf.js";import"./forwardRefs-C-GTDzx5.js";import"./form-BjvNdLud.js";import"./VCheckboxBtn-C83lXEbQ.js";const N={components:{AppLayout:b},data(){return{form:this.$inertia.form({id:null,lease_agreement_id:"",client_id:"",payment_date:"",room_number:null,receipt_number:"",amount_paid:"",description:"",payment_method:"cash",currency:"usd",amount_in_words:""}),headers:[{title:"ID",key:"id"},{title:"Lease Agreement ID",key:"lease_agreement_id"},{title:"Client ID",key:"client_id"},{title:"Amount Paid",key:"amount_paid"},{title:"Payment Date",key:"payment_date"},{title:"Actions",key:"actions",sortable:!1}],dialog:!1,rules:{required:l=>!!l||"This field is required.",numeric:l=>!isNaN(l)||"Must be a number."}}},methods:{submitForm(){this.form.post(route("admin.payments.store"),{onSuccess:()=>{this.closeDialog()}})},closeDialog(){this.dialog=!1,this.form.reset()},editPayment(l){this.form.id=l.id,this.form.lease_agreement_id=l.lease_agreement_id,this.form.client_id=l.client_id,this.form.payment_date=l.payment_date,this.form.room_number=l.room_number,this.form.receipt_number=l.receipt_number,this.form.amount_paid=l.amount_paid,this.form.description=l.description,this.form.payment_method=l.payment_method,this.form.currency=l.currency,this.form.amount_in_words=l.amount_in_words,this.dialog=!0},deletePayment(l){this.$swal.fire({title:"Are you sure you want to delete this payment?",icon:"question",showDenyButton:!0,confirmButtonText:"Delete",denyButtonText:"Cancel"}).then(s=>{s.isConfirmed&&this.$inertia.visit(route("admin.payments.destroy",l),{method:"delete"})})}}},x={class:"glass pa-3"},S={class:"d-flex"};function F(l,s,R,M,r,u){const V=c("InertiaLink"),g=c("AppLayout");return I(),B(g,{title:"All Payments"},{default:o(()=>[_("div",x,[e(k,{class:"rounded-lg px-2 mb-5",density:"comfortable"},{default:o(()=>[e(C,null,{default:o(()=>[m(" All Payments ("+L(l.$page.props.payments.length)+") ",1)]),_:1}),e(w),e(a,{onClick:s[0]||(s[0]=t=>r.dialog=!0),variant:"flat"},{default:o(()=>[m(" Add Payment ")]),_:1})]),_:1}),e(v,{"max-width":"600",modelValue:r.dialog,"onUpdate:modelValue":s[11]||(s[11]=t=>r.dialog=t)},{default:o(()=>[e(D,{variant:"flat"},{default:o(()=>[e(A,{class:"mb-5"},{default:o(()=>[m("Payment Information Form")]),_:1}),e(P,null,{default:o(()=>[e(d,null,{default:o(()=>[e(n,{cols:"12"},{default:o(()=>[e(i,{modelValue:r.form.lease_agreement_id,"onUpdate:modelValue":s[1]||(s[1]=t=>r.form.lease_agreement_id=t),label:"Lease Agreement ID","prepend-inner-icon":"mdi-clipboard-list",rules:[r.rules.required],"error-messages":l.$page.props.errors.lease_agreement_id},null,8,["modelValue","rules","error-messages"])]),_:1}),e(n,{cols:"12"},{default:o(()=>[e(i,{modelValue:r.form.client_id,"onUpdate:modelValue":s[2]||(s[2]=t=>r.form.client_id=t),label:"Client ID","prepend-inner-icon":"mdi-account",rules:[r.rules.required],"error-messages":l.$page.props.errors.client_id},null,8,["modelValue","rules","error-messages"])]),_:1})]),_:1}),e(d,null,{default:o(()=>[e(n,{cols:"12",md:"6"},{default:o(()=>[e(i,{modelValue:r.form.payment_date,"onUpdate:modelValue":s[3]||(s[3]=t=>r.form.payment_date=t),label:"Payment Date","prepend-inner-icon":"mdi-calendar",rules:[r.rules.required],"error-messages":l.$page.props.errors.payment_date,type:"date"},null,8,["modelValue","rules","error-messages"])]),_:1}),e(n,{cols:"12",md:"6"},{default:o(()=>[e(i,{modelValue:r.form.room_number,"onUpdate:modelValue":s[4]||(s[4]=t=>r.form.room_number=t),label:"Room Number","prepend-inner-icon":"mdi-door","error-messages":l.$page.props.errors.room_number},null,8,["modelValue","error-messages"])]),_:1})]),_:1}),e(d,null,{default:o(()=>[e(n,{cols:"12",md:"6"},{default:o(()=>[e(i,{modelValue:r.form.receipt_number,"onUpdate:modelValue":s[5]||(s[5]=t=>r.form.receipt_number=t),label:"Receipt Number","prepend-inner-icon":"mdi-receipt","error-messages":l.$page.props.errors.receipt_number},null,8,["modelValue","error-messages"])]),_:1}),e(n,{cols:"12",md:"6"},{default:o(()=>[e(i,{modelValue:r.form.amount_paid,"onUpdate:modelValue":s[6]||(s[6]=t=>r.form.amount_paid=t),label:"Amount Paid","prepend-inner-icon":"mdi-currency-usd",rules:[r.rules.required,r.rules.numeric],"error-messages":l.$page.props.errors.amount_paid},null,8,["modelValue","rules","error-messages"])]),_:1})]),_:1}),e(d,null,{default:o(()=>[e(n,{cols:"12",md:"6"},{default:o(()=>[e(p,{modelValue:r.form.payment_method,"onUpdate:modelValue":s[7]||(s[7]=t=>r.form.payment_method=t),items:["cash","credit_card","bank_transfer"],label:"Payment Method","prepend-inner-icon":"mdi-credit-card",rules:[r.rules.required],"error-messages":l.$page.props.errors.payment_method},null,8,["modelValue","rules","error-messages"])]),_:1}),e(n,{cols:"12",md:"6"},{default:o(()=>[e(p,{modelValue:r.form.currency,"onUpdate:modelValue":s[8]||(s[8]=t=>r.form.currency=t),items:["usd","eur","gbp"],label:"Currency","prepend-inner-icon":"mdi-currency-usd",rules:[r.rules.required],"error-messages":l.$page.props.errors.currency},null,8,["modelValue","rules","error-messages"])]),_:1})]),_:1}),e(d,null,{default:o(()=>[e(n,{cols:"12"},{default:o(()=>[e(f,{rows:"3",modelValue:r.form.description,"onUpdate:modelValue":s[9]||(s[9]=t=>r.form.description=t),label:"Description","prepend-inner-icon":"mdi-text","error-messages":l.$page.props.errors.description},null,8,["modelValue","error-messages"])]),_:1}),e(n,{cols:"12"},{default:o(()=>[e(f,{rows:"2",modelValue:r.form.amount_in_words,"onUpdate:modelValue":s[10]||(s[10]=t=>r.form.amount_in_words=t),label:"Amount in Words","prepend-inner-icon":"mdi-alphabetical","error-messages":l.$page.props.errors.amount_in_words},null,8,["modelValue","error-messages"])]),_:1})]),_:1})]),_:1}),e(T,{class:"mt-n5"},{default:o(()=>[e(a,{class:"mx-1",variant:"flat",color:"warning",onClick:u.closeDialog},{default:o(()=>[m("Cancel")]),_:1},8,["onClick"]),e(a,{variant:"flat",class:"mx-1",color:"primary",onClick:u.submitForm,loading:r.form.processing},{default:o(()=>[m(" Submit ")]),_:1},8,["onClick","loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(U,{items:l.$page.props.payments,headers:r.headers},{"item.actions":o(({item:t})=>[_("div",S,[e(V,{href:l.route("admin.payments.show",t)},{default:o(()=>[e(a,{class:"mx-1",color:"success"},{default:o(()=>[m("View")]),_:1})]),_:2},1032,["href"]),e(a,{class:"mx-1",onClick:y=>u.editPayment(t)},{default:o(()=>[m("Edit")]),_:2},1032,["onClick"]),e(a,{color:"error",class:"mx-1",onClick:y=>u.deletePayment(t)},{default:o(()=>[e(q,null,{default:o(()=>[m("mdi-trash-can")]),_:1})]),_:2},1032,["onClick"])])]),_:1},8,["items","headers"])])]),_:1})}const oe=h(N,[["render",F]]);export{oe as default};
